FROM alpine:3.19

RUN apk add --no-cache ca-certificates go \
  && update-ca-certificates

ENV PATH="/usr/local/go/bin:${PATH}"

WORKDIR /app
COPY . /app

RUN go build -o /usr/local/bin/monadscli ./cmd/monadscli

CMD ["monadscli", "run", "--command", "echo hello from alpine"]
